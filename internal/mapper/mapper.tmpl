{{- $src := firstLower .TypeName -}}
{{- $dest := printf "%s_" (camelCase .DestTypeName) -}}

// Code generated by "{{.Cmd}}"; DO NOT EDIT.

package {{.PackageName}}

// To{{pascalCase .DestPkgName}} converts receiver to type {{.QualifiedDestTypeName}}
func ({{$src}} *{{.TypeName}}) To{{pascalCase .DestPkgName}}() *{{.QualifiedDestTypeName}} {
    {{$dest}} := new({{.QualifiedDestTypeName}}) {{"\n"}}
    {{- range $s, $d := $.ExactMatchMap -}}
    {{$dest}}.{{$d}} = {{$src}}.{{$s}}{{"\n"}}
    {{- end -}}

    {{- range $s, $type := $.SrcToDestTypeMap -}}
    {{$dest}}.{{index $.ConvMatchMap $s}} = {{$type}}({{$src}}.{{$s}}) {{"\n"}}
    {{- end -}}

    {{- range $s, $func := $.SrcToDestFuncMap -}}
    {{$dest}}.{{index $.MismatchMap $s}} = {{$src}}.{{$func}}({{$src}}.{{$s}}) {{"\n"}}
    {{- end -}}
    {{- if $.WriteMethodName -}}
    {{$src}}.{{$.WriteMethodName}}({{$dest}}) {{"\n"}}
    {{- end -}}
    return {{$dest}}
}

// From{{pascalCase .DestPkgName}} read from type {{.QualifiedDestTypeName}}, then write back to receiver
func ({{$src}} *{{.TypeName}}) From{{pascalCase .DestPkgName}}({{$dest}} *{{.QualifiedDestTypeName}}) *{{.TypeName}} { {{"\n"}}
    {{- range $s, $d := $.ExactMatchMap -}}
    {{$src}}.{{$s}} = {{$dest}}.{{$d}}{{"\n"}}
    {{- end -}}
    {{- range $s, $func := $.DestToSrcFuncMap -}}
    {{$src}}.{{$s}} = {{$src}}.{{$func}}({{$dest}}.{{index $.MismatchMap $s}}) {{"\n"}}
    {{- end -}}
    {{- if $.ReadMethodName -}}
    {{$src}}.{{$.ReadMethodName}}({{$.ReadParamPrefix}}{{$dest}}) {{"\n"}}
    {{- end -}}
    return {{$src}}
}

// ShootMap exists solely to fulfill the MapShooter interface contract
func ({{$src}} {{.TypeName}}) ShootMap() { /*noop*/ }
